within OU44Emulator.Models.Validation;
model PeriodicFullOccupancy
  extends BuildingControl(
    districtHeating(m_flow_nominal=2),
    infiltration(ach=0.2),
    scale_factor(k=2),
    rad(dp_nominal=20000),
    conPIDcoil(
      controllerType=Modelica.Blocks.Types.SimpleController.PID,
      k=1,
      yMax=1));
  Modelica.Blocks.Sources.CombiTimeTable occupancy(
    tableOnFile=true,
    tableName="occ",
    fileName=ModelicaServices.ExternalReferences.loadResource(
        "modelica://OU44Emulator/occ.txt"))
    annotation (Placement(transformation(extent={{-188,120},{-168,140}})));
equation
  connect(occupancy.y[1], metHeat.u) annotation (Line(points={{-167,130},{-138,
          130},{-138,142},{-110,142}}, color={0,0,127}));
  connect(occupancy.y[1], gaiCO2.u) annotation (Line(points={{-167,130},{-140,
          130},{-140,110},{-110,110}}, color={0,0,127}));
  annotation (experiment(
      StartTime=2678400,
      StopTime=5097600,
      Interval=3600));
end PeriodicFullOccupancy;
